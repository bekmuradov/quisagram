(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"2ff9":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticClass:"constrain"},[s("div",{staticClass:"q-ma-lg row content-start"},[s("div",{staticClass:"col-12 row items-center"},[s("img",{staticClass:"avatar",attrs:{src:t.user.avatar}}),s("div",{staticClass:"text-h4 q-pl-lg"},[t._v("\n        "+t._s(t.user.username)+"\n      ")])]),s("div",{staticClass:"col-12 q-mt-md q-pl-md"},[s("div",{staticClass:"text-subtitle2"},[t._v("\n        "+t._s(t.user.firstName+" "+t.user.lastName)+"\n      ")]),t.user.bio?s("div",{staticClass:"text-body"},[t._v("\n        "+t._s(t.user.bio)+"\n      ")]):t._e()]),s("div",{staticClass:"col-12 row justify-evenly content-start q-mr-md"},[s("q-btn",{staticClass:"col-sm-2",attrs:{"no-caps":"",flat:"",dense:""}},[t._v(t._s(t.user.postsCount)+" posts")]),s("q-btn",{staticClass:"col-sm-2",attrs:{"no-caps":"",flat:"",dense:""}},[t._v(t._s(t.user.likesCount)+" likes")]),s("q-btn",{staticClass:"col-sm-4",attrs:{"no-caps":"",flat:"",dense:""},on:{click:function(e){return t.toggleFollowModal("followers")}}},[t._v(t._s(t.user.followersArr.length)+" followers")]),s("q-btn",{staticClass:"col-sm-4",attrs:{"no-caps":"",flat:"",dense:""},on:{click:function(e){return t.toggleFollowModal("following")}}},[t._v(t._s(t.user.followingArr.length)+" following")])],1)]),s("q-dialog",{attrs:{"transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.followModal,callback:function(e){t.followModal=e},expression:"followModal"}},[s("q-card",[s("q-card-section",[s("q-tabs",{staticClass:"bg-white text-dark",attrs:{dense:"",align:"justify",breakpoint:0},model:{value:t.tabFollowers,callback:function(e){t.tabFollowers=e},expression:"tabFollowers"}},[s("q-tab",{attrs:{name:"followers"},on:{click:function(e){return t.fetchFriends("followers")}}},[t._v(t._s(t.user.followersArr.length)+" followers")]),s("q-tab",{attrs:{name:"following"},on:{click:function(e){return t.fetchFriends("following")}}},[t._v(t._s(t.user.followingArr.length)+" following")])],1)],1),s("q-card-section",{staticClass:"column align-center items-center content-center"},["following"!==t.tabFollowers||t.user.followingArr.length?"followers"!==t.tabFollowers||t.user.followersArr.length?t._e():s("div",[s("q-icon",{staticStyle:{margin:"auto",width:"100%"},attrs:{size:"xl",color:"$dark",name:"eva-person-add-outline"}}),s("div",{staticClass:"text-h6 text-center"},[t._v("Followers")]),s("div",{staticClass:"text-body2 text-light"},[t._v("You'll see all the people who follow you here.")])],1):s("div",[s("q-icon",{staticStyle:{margin:"auto",width:"100%"},attrs:{size:"xl",color:"$dark",name:"eva-person-add-outline"}}),s("div",{staticClass:"text-h6 text-center"},[t._v("People You Follow")]),s("div",{staticClass:"text-body2 text-light"},[t._v("Once you follow people, you'll see them here.")])],1)]),s("q-card-section",{staticClass:"q-pt-none"},t._l(t.friends,(function(t){return s("q-item",{key:t.id},[s("friends-suggestion",{attrs:{friend:t}})],1)})),1),s("q-card-actions",{attrs:{align:"left"}},[s("q-btn",{attrs:{flat:"","no-caps":"",color:"accent",label:"See All Suggestions"},on:{click:function(e){t.followModalTwo=!0}}})],1),s("q-dialog",{attrs:{"transition-show":"rotate","transition-hide":"rotate"},model:{value:t.followModalTwo,callback:function(e){t.followModalTwo=e},expression:"followModalTwo"}},[s("q-card",[t.friendsToFollow.length?s("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"50vh"}},t._l(t.friendsToFollow,(function(t){return s("q-item",{key:t.id},[s("friends-suggestion",{attrs:{friend:t}})],1)})),1):s("q-card-section",[s("q-item-label",[t._v("\n            No friends to follow!\n          ")])],1)],1)],1)],1)],1)],1)},l=[],r=s("ded3"),a=s.n(r),n=(s("ddb0"),s("2f62")),i=s("fc1b"),c=s("4e80"),d={name:"PageProfile",components:{FriendsSuggestion:c["a"]},data(){return{text:"",followModal:!1,followModalTwo:!1,tabFollowers:"",friends:[]}},computed:a()(a()({},Object(n["c"])({user:"pwrup/authUser"})),{},{friendsToFollow(){return this.$store.state.pwrup.users.filter((t=>t.userId!==this.user.userId&&!this.user.following.hasOwnProperty(t.userId)))}}),methods:{setUserBio(){i["h"].doc(this.user.userId).update({bio:this.text})},toggleFollowModal(t){this.tabFollowers=t,"following"===t?this.fetchFriends("following"):this.fetchFriends("followers"),this.followModal=!0},fetchFriends(t){if("following"===t){let t=[];for(const e of Object.keys(this.user.following))t.push(this.$store.state.pwrup.users.find((t=>t.userId===e)));t.length||(t=this.$store.state.pwrup.users.filter((t=>t.userId!==this.user.userId&&!t.following.hasOwnProperty(this.user.userId)))),this.friends=t}else{let t=[];for(const e of Object.keys(this.user.followers))t.push(this.$store.state.pwrup.users.find((t=>t.userId===e)));t.length||(t=this.$store.state.pwrup.users.filter((t=>t.userId!==this.user.userId&&!this.user.following.hasOwnProperty(t.userId)))),this.friends=t}}}},u=d,f=(s("fb2a"),s("2877")),w=s("9989"),h=s("9c40"),p=s("24e8"),g=s("f09f"),b=s("a370"),m=s("429b"),v=s("7460"),q=s("0016"),_=s("66e5"),C=s("4b7e"),F=s("0170"),y=s("eebe"),x=s.n(y),k=Object(f["a"])(u,o,l,!1,null,"cf43cdb6",null);e["default"]=k.exports;x()(k,"components",{QPage:w["a"],QBtn:h["a"],QDialog:p["a"],QCard:g["a"],QCardSection:b["a"],QTabs:m["a"],QTab:v["a"],QIcon:q["a"],QItem:_["a"],QCardActions:C["a"],QItemLabel:F["a"]})},"4e80":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-item",[s("q-btn",{attrs:{round:"",size:"xs"}},[s("q-avatar",{staticClass:"shadow-3",attrs:{size:"40px"}},[s("img",{attrs:{src:t.friend.avatar}})])],1),s("q-item-section",{staticClass:"q-pl-md",attrs:{clickable:""}},[s("div",{staticClass:"row",staticStyle:{width:"8rem"}},[s("q-item-label",{staticClass:"col-8 text-weight-bold btn-username"},[t._v("\n        "+t._s(t.friend.username)+"\n      ")]),s("q-item-label",{staticClass:"col-12",attrs:{caption:""}},[t._v("\n        "+t._s(t.friend.following.hasOwnProperty(t.user.userId)?t.friend.firstName+" "+t.friend.lastName:"Suggested for you")+"\n      ")])],1)]),s("q-btn",{attrs:{flat:"","no-caps":"",color:"primary",label:t.user.following.hasOwnProperty(t.friend.userId)?"Unfollow":"Follow"},on:{click:function(e){return t.toggleFollow(t.friend)}}})],1)},l=[],r=s("ded3"),a=s.n(r),n=s("2f62"),i={props:{friend:{type:Object,required:!0}},computed:a()({},Object(n["c"])({user:"pwrup/authUser"})),methods:{toggleFollow(t){this.user.following.hasOwnProperty(t.userId)?this.$store.dispatch("pwrup/unFollowFriend",t):this.$store.dispatch("pwrup/followFriend",t)}}},c=i,d=s("2877"),u=s("66e5"),f=s("9c40"),w=s("cb32"),h=s("4074"),p=s("0170"),g=s("eebe"),b=s.n(g),m=Object(d["a"])(c,o,l,!1,null,null,null);e["a"]=m.exports;b()(m,"components",{QItem:u["a"],QBtn:f["a"],QAvatar:w["a"],QItemSection:h["a"],QItemLabel:p["a"]})},a374:function(t,e,s){},fb2a:function(t,e,s){"use strict";s("a374")}}]);